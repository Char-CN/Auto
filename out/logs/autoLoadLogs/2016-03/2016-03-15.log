17:11:34 INFO  - [init] -- Logback Init Success
17:11:34 INFO  - [init] -- param applicationPath : file:/Users/hyy/Work/workspace/Auto/out/resource/applicationContext.xml
17:11:35 INFO  - [init] -- Application Init SUCCESS 加载Spring应用成功
17:11:35 INFO  - [init] -- method waste time            : 1107
17:11:35 INFO  - [init] ----End--------------------------------------------
17:11:35 INFO  - [handle] ====================AutoLoad Begin====================
17:11:35 INFO  - [initDataSource] init datasource finish
17:11:35 INFO  - [handle] arg[1] : 1
17:11:35 INFO  - [handle] arg[2] : *
17:11:35 INFO  - [<init>] system support line placeholder size : 100
17:11:35 INFO  - [<init>] system support point placeholder size : 100
17:11:35 INFO  - [findByGroupAndFile] ----Begin----------------------------------------
17:11:35 INFO  - [findByGroupAndFile] -- param groupIDs : 1
17:11:35 INFO  - [findByGroupAndFile] -- param fileIds : *
17:11:35 INFO  - [findByGroupAndFile] -- method cost time : 22
17:11:35 INFO  - [findByGroupAndFile] ----End------------------------------------------
17:11:35 INFO  - [handle] 
17:11:35 INFO  - [handle] ======Config processing begin[10]===========================================]
17:11:35 INFO  - [handle] ALInputFile RecordID        : 10
17:11:35 INFO  - [handle] ALInputFile GroupID         : 1
17:11:35 INFO  - [handle] ALInputFile FilePath        : /Users/hyy/Work/data/
17:11:35 INFO  - [handle] ALInputFile FileRegExp      : fact_sales_\d*_\d*.csv
17:11:35 INFO  - [handle] ALInputFile FileName        : 案例一事实一
17:11:35 INFO  - [handle] ALInputFile InputSql        : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES({PeriodKey},{DayKey},{ProductID},{SalesmanID},{4},{5})
17:11:35 INFO  - [handle] ALInputFile dims count      : 3
17:11:35 INFO  - [handle] ALInputFileFieldBean [recordId=1, dimFlag=1, fieldPointName={SalesmanID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=SalesmanName:{3}, dimValue=RecordID, dimTableName=Dim_Salesman, sort=null, isDim=true]
17:11:35 INFO  - [handle] ALInputFileFieldBean [recordId=2, dimFlag=1, fieldPointName={ProductLevelID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=ProductLevelName:{1}, dimValue=RecordID, dimTableName=Dim_Product_Level, sort=null, isDim=true]
17:11:35 INFO  - [handle] ALInputFileFieldBean [recordId=3, dimFlag=1, fieldPointName={ProductID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=ProductName:{2},ProductLevelID:{ProductLevelID}, dimValue=RecordID, dimTableName=Dim_Product, sort=null, isDim=true]
17:11:35 INFO  - [handle] ALInputFile befores count   : 1
17:11:35 INFO  - [handle] ALInputFileBeforeBean [recordId=1, fileId=10, beforeSql=delete from Fact_Sales where PeriodKey={PeriodKey} and DayKey={DayKey}, sort=null, enable=null]
17:11:35 INFO  - [handle] ALInputFile constants count : 2
17:11:35 INFO  - [handle] ALInputFileConstant [recordId=1, fileId=10, fieldPointName={PeriodKey}, defaultValue=#FILENAME#, convertMethod=null, limitLength=null, oldFormat=fact_sales_(\d*)_\d*.csv, newFormat={1}, sort=null]
17:11:35 INFO  - [handle] ALInputFileConstant [recordId=2, fileId=10, fieldPointName={DayKey}, defaultValue=#FILENAME#, convertMethod=null, limitLength=null, oldFormat=fact_sales_\d*_(\d*).csv, newFormat={1}, sort=null]
17:11:35 INFO  - [handle] match files count               : 1
17:11:35 INFO  - [handle] ======File processing begin[fact_sales_1_20160128.csv][1]====================
17:11:35 INFO  - [handle] lockName /Users/hyy/Work/workspace/Auto/out/lock/1_10_fact_sales_1_20160128.csv.lock
17:11:35 INFO  - [isRunningByFile] /Users/hyy/Work/workspace/Auto/out/lock/1_10_fact_sales_1_20160128.csv.lock is not file
17:11:35 INFO  - [lock] lock is success
17:11:35 INFO  - [handle] === total rows : [5]
17:11:35 INFO  - [handle] === row 1 length: [5]
17:11:35 INFO  - [handle] === row 1 Point[{5}] : 160000
17:11:35 INFO  - [handle] === row 1 Point[{3}] : 张三
17:11:35 INFO  - [handle] === row 1 Point[{4}] : 120000
17:11:35 INFO  - [handle] === row 1 Point[{1}] : 一级
17:11:35 INFO  - [handle] === row 1 Point[{2}] : MacPro
17:11:35 INFO  - [handle] === have multi dim depend
17:11:35 INFO  - [insertDim] ----Begin----------------------------------------
17:11:35 INFO  - [insertDim] -- param fileField   : ALInputFileFieldBean [recordId=1, dimFlag=1, fieldPointName={SalesmanID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=SalesmanName:{3}, dimValue=RecordID, dimTableName=Dim_Salesman, sort=null, isDim=true]
17:11:35 INFO  - [insertDim] -- param sqls length : 0
17:11:35 INFO  - [batchUpdate] batchUpdate begin
17:11:35 INFO  - [batchUpdate] imported 0
17:11:35 INFO  - [batchUpdate] batchUpdate commit
17:11:35 INFO  - [insertDim] -- method cost time : 3
17:11:35 INFO  - [insertDim] ----End------------------------------------------
17:11:35 INFO  - [insertDim] ----Begin----------------------------------------
17:11:35 INFO  - [insertDim] -- param fileField   : ALInputFileFieldBean [recordId=2, dimFlag=1, fieldPointName={ProductLevelID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=ProductLevelName:{1}, dimValue=RecordID, dimTableName=Dim_Product_Level, sort=null, isDim=true]
17:11:35 INFO  - [insertDim] -- param sqls length : 0
17:11:35 INFO  - [batchUpdate] batchUpdate begin
17:11:35 INFO  - [batchUpdate] imported 0
17:11:35 INFO  - [batchUpdate] batchUpdate commit
17:11:35 INFO  - [insertDim] -- method cost time : 2
17:11:35 INFO  - [insertDim] ----End------------------------------------------
17:11:35 INFO  - [insertDim] ----Begin----------------------------------------
17:11:35 INFO  - [insertDim] -- param fileField   : ALInputFileFieldBean [recordId=3, dimFlag=1, fieldPointName={ProductID}, defaultValue=null, limitLength=null, oldFormat=null, newFormat=null, dimKey=ProductName:{2},ProductLevelID:{ProductLevelID}, dimValue=RecordID, dimTableName=Dim_Product, sort=null, isDim=true]
17:11:35 INFO  - [insertDim] -- param sqls length : 0
17:11:35 INFO  - [batchUpdate] batchUpdate begin
17:11:35 INFO  - [batchUpdate] imported 0
17:11:35 INFO  - [batchUpdate] batchUpdate commit
17:11:35 INFO  - [insertDim] -- method cost time : 2
17:11:35 INFO  - [insertDim] ----End------------------------------------------
17:11:35 INFO  - [handle] === insert data start
17:11:35 INFO  - [handle] === targetSourceDBName [mysql], enable [1]
17:11:35 INFO  - [insertInputBefore] ----Begin----------------------------------------
17:11:35 INFO  - [insertInputBefore] -- param beforeBean : ALInputFileBeforeBean [recordId=1, fileId=10, beforeSql=delete from Fact_Sales where PeriodKey={PeriodKey} and DayKey={DayKey}, sort=null, enable=null]
17:11:35 INFO  - [insertInputBefore] -- param sqls length : 1
17:11:35 INFO  - [insertInputBefore] -- param record 1 : delete from Fact_Sales where PeriodKey='1' and DayKey='20160128'
17:11:35 INFO  - [batchUpdate] batchUpdate begin
17:11:35 INFO  - [batchUpdate] imported 1
17:11:35 INFO  - [batchUpdate] batchUpdate commit
17:11:35 INFO  - [insertInputBefore] -- method cost time : 4
17:11:35 INFO  - [insertInputBefore] ----End------------------------------------------
17:11:35 INFO  - [convertInputSqlsByMysql] ----Begin----------------------------------------
17:11:35 INFO  - [convertInputSqlsByMysql] -- param inputSql     : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES({PeriodKey},{DayKey},{ProductID},{SalesmanID},{4},{5})
17:11:35 INFO  - [convertInputSqlsByMysql] -- param sqlList size : 1
17:11:35 INFO  - [convertInputSqlsByMysql] -- method cost time   : 1
17:11:35 INFO  - [convertInputSqlsByMysql] ----End------------------------------------------
17:11:35 INFO  - [insertInputFile] ----Begin----------------------------------------
17:11:35 INFO  - [insertInputFile] -- param sqls length : 5
17:11:35 INFO  - [insertInputFile] -- param record 1 : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES('1','20160128','1','1','120000','160000')
17:11:35 INFO  - [insertInputFile] -- param record 2 : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES('1','20160128','1','2','90000','120000')
17:11:35 INFO  - [insertInputFile] -- param record 3 : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES('1','20160128','1','3','45000','60000')
17:11:35 INFO  - [insertInputFile] -- param record 4 : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES('1','20160128','1','4','15000','20000')
17:11:35 INFO  - [insertInputFile] -- param record 5 : INSERT INTO Fact_Sales(PeriodKey,DayKey,ProductID,SalesmanID,SpotPriceTotal,SalePriceTotal) VALUES('1','20160128','18','1','15000','20000')
17:11:35 INFO  - [batchUpdate] batchUpdate begin
17:11:35 INFO  - [batchUpdate] imported 5
17:11:35 INFO  - [batchUpdate] batchUpdate commit
17:11:35 INFO  - [insertInputFile] -- method cost time : 4
17:11:35 INFO  - [insertInputFile] ----End------------------------------------------
17:11:35 INFO  - [handle] === insert data success
17:11:35 INFO  - [handle] === move file [/Users/hyy/Work/data/fact_sales_1_20160128.csv]
17:11:35 INFO  - [handle] ===        to [/Users/hyy/Work/data/success]
17:11:35 INFO  - [handle] ===    result [fail]
17:11:35 INFO  - [handle] === one file cost time : 28
17:11:35 INFO  - [handle] ======File processing end[fact_sales_1_20160128.csv][1]======================
17:11:35 INFO  - [handle] ======Config processing end[10]===============================================]
17:11:35 INFO  - [handle] end the step             : 100.0
17:11:35 INFO  - [handle] total file config        : 1
17:11:35 INFO  - [handle] total file success count : 1
17:11:35 INFO  - [handle] total file fail count    : 0
17:11:35 INFO  - [handle] total file all count     : 1
17:11:35 INFO  - [handle] total cost time          : 325
17:11:35 INFO  - [handle] ====================AutoLoad End====================
